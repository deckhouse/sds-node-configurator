{{- /* RBAC */ -}}
{{- $rbacConfig := dict
  "clusterRoleRules" (list
    (dict "apiGroups" (list "apiextensions.k8s.io") "resources" (list "customresourcedefinitions") "verbs" (list "get" "list" "watch"))
    (dict "apiGroups" (list "storage.deckhouse.io") "resources" (list "blockdevices") "verbs" (list "get" "list" "watch"))
    (dict "apiGroups" (list "storage.deckhouse.io") "resources" (list "lvmvolumegroupsets" "lvmvolumegroupsets/status") "verbs" (list "get" "list" "watch" "update"))
    (dict "apiGroups" (list "storage.deckhouse.io") "resources" (list "lvmvolumegroups" "lvmvolumegroups/status") "verbs" (list "get" "list" "watch" "update" "create"))
    (dict "apiGroups" (list "storage.deckhouse.io") "resources" (list "lvmlogicalvolumesnapshots") "verbs" (list "get" "list" "watch"))
    (dict "apiGroups" (list "") "resources" (list "nodes" "pods") "verbs" (list "get" "list" "watch"))
    (dict "apiGroups" (list "coordination.k8s.io") "resources" (list "leases") "verbs" (list "get" "list" "watch" "update" "create" "delete"))
    (dict "apiGroups" (list "deckhouse.io") "resources" (list "moduleconfigs") "verbs" (list "get" "list" "watch" "update" "patch"))
  )
}}
{{ include "helm_lib_module_controller_rbac" (list . $rbacConfig) }}
